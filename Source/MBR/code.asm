BITS 16
org 0x7c00

segments:
    push    0xA000
    pop     es
    xor     ax, ax
    xor     di, di
    
    mov     ax, 13h
    int     10h
    
; print black and white flashing pixels
x1:
    mov     ah, 0x0c
    xor     al, al  ; start with black (color 0)
    xor     bh, bh  ; page
    inc     cx      ; x
    
toggle_color:
    mov     ah, 0x0c
    mov     al, 0   ; set black
    int     10h     ; draw black pixel
    inc     cx
    mov     ah, 0x0c
    mov     al, 15  ; set white
    int     10h     ; draw white pixel
    inc     cx

    cmp     cx, 0xFFFF
    je      keyboard
    jmp     toggle_color

keyboard:
    mov     ax, 0
    int     16h

    mov     ah, 0
    mov     al, 3
    int     10h
    
    mov     si, msg
    
print:
    push ax
    cld
    
    next:
        mov al,[si]
        cmp al,0
        je done
        call printchar
        inc si
        jmp next
    
done:
    mov ax, 0
    int 16h
    jmp segments

printchar:
    mov ah,0x0e
    int 0x10
    ret

msg db "Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe Pandemonium2.0.exe ",0

times 510 - ($-$$) db 0
dw 0xaa55
